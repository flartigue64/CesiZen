@{
    ViewData["ContenuHtml"] = Context.Session.GetString("ContenuHtml") ?? "Activité";
    var content = ViewBag.Content as string ?? "";
    var userId = ViewBag.UserId ?? 0;
    var activityId = ViewBag.ActivityId ?? 0;
    var roleId = ViewBag.RoleId;
}

<div>
    @Html.Raw(content)
</div>

<div class="d-flex justify-content-center mt-3">
    @if (roleId == 2)
    {
        <a href="@Url.Action("DynamicActivity2", "Activite", new { id = activityId })" class="btn btn-primary mx-2">
            Modifier l'activité
        </a>
    }
    <a href="@Url.Action("Activity", "Activite")" class="btn btn-secondary mx-2">
        Revenir à la liste des activités
    </a>

    <!-- Bouton Terminer -->
    <form method="post" action="@Url.Action("CreateActivityMetadata", "Activite")" class="d-inline-block">
        <button type="submit" class="btn btn-success mx-2">
            Terminer
        </button>
    </form>
</div>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const buttons = document.querySelectorAll('.bubble-launch');

            buttons.forEach(button => {
                button.addEventListener('click', function () {
                    const bubble = button.nextElementSibling;

                    if (!bubble) return;

                    // Gonfler (4s)
                    bubble.style.transition = 'all 4s ease';
                    bubble.style.width = '150px';
                    bubble.style.height = '150px';

                    setTimeout(() => {
                        // Rester gonflé (7s)
                        bubble.style.transition = 'none';

                        setTimeout(() => {
                            // Dégonfler (8s)
                            bubble.style.transition = 'all 8s ease';
                            bubble.style.width = '0px';
                            bubble.style.height = '0px';
                        }, 7000);
                    }, 4000);
                });
            });
        });
    </script>
}



