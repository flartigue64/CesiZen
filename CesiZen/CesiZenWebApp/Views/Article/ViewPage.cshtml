@{
    ViewData["Contenu"] = Context.Session.GetString("Contenu") ?? "Article";
    var content = ViewBag.Content as string ?? "";
    var title = ViewBag.Title as string ?? "";
    var userId = ViewBag.UserId ?? 0;
    var articleId = ViewBag.ArticleId ?? 0;
    var roleId = ViewBag.RoleId;
}

<div class="container mt-4">
    <div class="card-body">
        <h2 class="card-title mb-3 text-center" style="color: #28a745; font-size: 2.5rem;">@Html.Raw(title)</h2>
        <div class="card-text">
            @Html.Raw(content)
        </div>
    </div>

    <div class="d-flex justify-content-center mt-4">
        @if (roleId == 2)
        {
            <a href="@Url.Action("DynamicArticle2", "Article", new { id = articleId })" class="btn btn-primary mx-2">
                <i class="bi bi-pencil-square"></i> Modifier l'activité
            </a>
        }
        <a href="@Url.Action("Article", "Article")" class="btn btn-secondary mx-2">
            <i class="bi bi-arrow-left-circle"></i> Revenir à la liste des articles
        </a>
    </div>
</div>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const buttons = document.querySelectorAll('.bubble-launch');

            buttons.forEach(button => {
                button.addEventListener('click', function () {
                    const bubble = button.nextElementSibling;
                    if (!bubble) return;

                    // Gonfler (4s)
                    bubble.style.transition = 'all 4s ease';
                    bubble.style.width = '150px';
                    bubble.style.height = '150px';

                    setTimeout(() => {
                        // Rester gonflé (7s)
                        bubble.style.transition = 'none';

                        setTimeout(() => {
                            // Dégonfler (8s)
                            bubble.style.transition = 'all 8s ease';
                            bubble.style.width = '0px';
                            bubble.style.height = '0px';
                        }, 7000);
                    }, 4000);
                });
            });
        });
    </script>
}
